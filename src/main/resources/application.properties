spring.datasource.url=jdbc:mysql://localhost:3306/trackdev?useUnicode=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=Europe/Madrid
spring.datasource.username=trackdev
spring.datasource.password=trackdev
spring.jpa.hibernate.ddl-auto=create-drop
#spring.jpa.hibernate.ddl-auto=update
#spring.jpa.database-platform=org.hibernate.dialect.MariaDBDialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
# spring.jpa.show-sql=true

logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG

# Session cookie settings (secure=false since nginx handles SSL termination)
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false

# Mail configuration - credentials from environment variables
mail.host=${MAIL_HOST:smtp.gmail.com}
mail.port=${MAIL_PORT:587}
mail.username=${MAIL_USERNAME:}
mail.password=${MAIL_PASSWORD:}

# HTTP server configuration (SSL handled by nginx reverse proxy)
server.port=8080
server.ssl.enabled=false

spring.web.resources.add-mappings=false

trackdev.cors.allowed-origin=http://localhost:3000
# Token lifetime in minutes (1 hour) - sliding session extends this on each API call
trackdev.auth.token-lifetime-in-minutes=${JWT_TOKEN_LIFETIME:60}
# Secret key - MUST be set via environment variable in production
trackdev.auth.secret-key-base=${JWT_SECRET_KEY:}

# Disable RFC 7807 Problem Details format to use custom error responses
spring.mvc.problemdetails.enabled=false

# Allow bean overriding for locale resolver customization
spring.main.allow-bean-definition-overriding=true

# Throw exceptions instead of sending to /error for 404
spring.mvc.throw-exception-if-no-handler-found=true

# Disable default error page
server.error.whitelabel.enabled=false

# Include exception details in error responses
server.error.include-message=always
server.error.include-exception=false
server.error.include-stacktrace=never

# GitHub webhook configuration
# Base URL where the API is publicly accessible (for webhook callbacks)
# For development with ngrok: run "ngrok http 8080" and paste the URL below
# For production: set WEBHOOK_BASE_URL environment variable
app.webhook.url=${WEBHOOK_BASE_URL:https://unisolationist-ronan-ravishingly.ngrok-free.dev}
# Global webhook secret (deprecated - per-repo secrets are now generated automatically)
app.webhook.secret=${WEBHOOK_SECRET:}

#---
spring.config.activate.on-profile=mysqldb
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
#---
logging.level.root=INFO